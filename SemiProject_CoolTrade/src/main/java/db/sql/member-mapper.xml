<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>

	<entry key="loginMember">
		SELECT 
		      	USER_NO
			  , USER_ID
			  ,	USER_PWD
			  ,	USER_NAME
			  ,	NICKNAME
			  ,	PHONE
			  ,	EMAIL
			  ,	ENROLL_DATE
			  ,	ONDO
			  ,	USER_LEVEL
			  ,	USER_STATUS
			  ,	CAUTION
		  FROM MEMBER
		 WHERE USER_ID = ?
		   AND USER_PWD = ?
		   AND USER_STATUS = 'Y'
	</entry>
	
	<entry key="idMember">
		SELECT 
		      	USER_NO
			  , USER_ID
			  ,	USER_PWD
			  ,	USER_NAME
			  ,	NICKNAME
			  ,	PHONE
			  ,	EMAIL
			  ,	ENROLL_DATE
			  ,	ONDO
			  ,	USER_LEVEL
			  ,	USER_STATUS
			  ,	CAUTION
		  FROM MEMBER
		 WHERE USER_ID = ?
		   AND USER_STATUS = 'Y'
	</entry>
	
	<entry key="selectListCount">
		SELECT COUNT(*) count
		  FROM MEMBER
		 WHERE USER_LEVEL IN ('U','C')
		   AND USER_STATUS = 'Y'
	</entry>
	
	<entry key="selectList">
		SELECT *
		  FROM(
		        SELECT ROWNUM RNUM, A.*
		          FROM (
		                  SELECT 
		                       USER_NO
		                     , USER_ID
		                     , USER_NAME
		                     , ENROLL_DATE
		                     , ONDO 
		                     , USER_LEVEL
		                     , CAUTION
		                  FROM MEMBER 
		                 WHERE USER_LEVEL IN ('U','C')
		                   AND USER_STATUS = 'Y'
		                   
		                 ORDER
		                    BY USER_NO DESC
		                    ) A
		        )
		 WHERE RNUM BETWEEN ? AND ?
	</entry>
	

	<entry key="insertMember">
	INSERT
	INTO MEMBER (
	USER_NO, USER_ID, USER_PWD, USER_NAME, NICKNAME, PHONE, EMAIL,CAUTION) 
	VALUES 
			(
			SEQ_MEM.NEXTVAL
			, ?
			, ?
			, ?
			, ?
			, ?
			, ? 
			, 0
			)
		  
	</entry>
	
	 
	
	<!--  
	<entry key="insertMember">
	INSERT
	  INTO MEMBER (
	  USER_NO, USER_ID, USER_PWD, USER_NAME, 
	  PHONE, NICKNAME, EMAIL, CAUTION)
	VALUES
		   (
		   'M'||SEQ_MEM.NEXTVAL
		 , ?
		 , ?
		 , ?
		 , ?
		 , ?
		 , ?
		 , 0
		   )	  
	</entry>
	
	-->
	
	<entry key="searchPwd">
		SELECT 
		      	USER_NO
			  , USER_ID
			  ,	USER_PWD
			  ,	USER_NAME
			  ,	NICKNAME
			  ,	PHONE
			  ,	EMAIL
			  ,	ENROLL_DATE
			  ,	ONDO
			  ,	USER_LEVEL
			  ,	USER_STATUS
			  ,	CAUTION
		  FROM MEMBER
		 WHERE USER_ID = ?
		   AND USER_NAME = ?
		   AND EMAIL = ?
		   AND USER_STATUS = 'Y'
	</entry>
	
	<entry key="changePwd">
		UPDATE MEMBER SET USER_PWD = ? WHERE USER_ID = ?
	</entry>
	
	<entry key="countMember">
		SELECT
			   COUNT(*) count
		  FROM MEMBER
		 WHERE ENROLL_DATE = TO_CHAR(SYSDATE,'YY/MM/DD')
	</entry>
	
	<entry key="updateUserLevel">
		UPDATE MEMBER
		   SET USER_LEVEL = 'C'
		 WHERE USER_NO = ?
	</entry>
	
	<entry key="selectBlackListCount">
		SELECT COUNT(*) count
		  FROM MEMBER
		 WHERE CAUTION >= 3
		   AND USER_STATUS = 'Y'
	</entry>
	
	<entry key="selectBlackList">
		SELECT *
		  FROM(
	        SELECT ROWNUM RNUM, A.*
	          FROM (
	                  SELECT 
	                       USER_NO
	                     , USER_ID
	                     , USER_NAME
	                     , ENROLL_DATE
	                     , ONDO 
	                     , USER_LEVEL
	                     , CAUTION
	                  FROM MEMBER 
	                 WHERE USER_LEVEL = 'B'
	                   AND USER_STATUS = 'Y'
	                   AND CAUTION > 2
	                 ORDER
	                    BY USER_NO DESC
	                    ) A
	       		 )
		 WHERE RNUM BETWEEN ? AND ?
	</entry>
	
</properties>